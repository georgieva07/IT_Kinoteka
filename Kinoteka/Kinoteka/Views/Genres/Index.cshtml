@model IEnumerable<Kinoteka.Models.Genre>

@{
				/**/

				ViewBag.Title = "Index";
}

<h2>Genres</h2>

<p>
	@Html.ActionLink("Create New", "Create")
</p>
<table class="table">
	<tr>
		<th>
			@Html.DisplayNameFor(model => model.name)
		</th>
		<th></th>
	</tr>

	@foreach (var item in Model)
	{
<tr>
	<td>
		@Html.DisplayFor(modelItem => item.name)
	</td>
	<td>
		@Html.ActionLink("Edit", "Edit", new { id = item.id }) |
		@Html.ActionLink("Find Movies", "Details", new { id = item.id }) |
		@Html.ActionLink("Delete", "Delete", new { id = item.id })
	</td>
</tr>
}

</table>


@section scripts{
	<script>
		var table = $("#shows").DataTable();
		$("#shows .js-delete").click(function () {
			var button = $(this);
			bootbox.confirm("Are you sure you want to delete this movie?",
				function (result) {
					if (result) {
						$.ajax({
							method: "GET",
							url: "/Genres/Delete/" + button.attr("data-id"),
							success: function () {
								table.row(button.parents("tr")).remove().draw();
							}
						});
					}
				})
		})

	</script>
}
